diff -prauN os161-1.10_asst0.original/kern/compile/ASST0/depend.mk os161-1.10.ASST0/kern/compile/ASST0/depend.mk
--- os161-1.10_asst0.original/kern/compile/ASST0/depend.mk	2009-09-26 00:34:55.000000000 -0700
+++ os161-1.10.ASST0/kern/compile/ASST0/depend.mk	2009-09-26 00:30:56.000000000 -0700
@@ -294,6 +294,9 @@ menu.o: ../../main/menu.c ../../include/
   ../../include/syscall.h ../../include/uio.h ../../include/vfs.h \
   ../../include/sfs.h ../../include/vnode.h ../../include/fs.h \
   ../../include/kern/sfs.h ../../include/test.h opt-sfs.h opt-net.h
+hello.o: ../../main/hello.c ../../include/types.h machine/types.h \
+  ../../include/kern/types.h ../../include/kern/errno.h \
+  ../../include/kern/unistd.h ../../include/lib.h machine/setjmp.h
 loadelf.o: ../../userprog/loadelf.c ../../include/types.h machine/types.h \
   ../../include/kern/types.h ../../include/kern/errno.h \
   ../../include/lib.h machine/setjmp.h ../../include/uio.h \
diff -prauN os161-1.10_asst0.original/kern/compile/ASST0/files.mk os161-1.10.ASST0/kern/compile/ASST0/files.mk
--- os161-1.10_asst0.original/kern/compile/ASST0/files.mk	2009-09-26 00:34:47.000000000 -0700
+++ os161-1.10.ASST0/kern/compile/ASST0/files.mk	2009-09-26 00:30:46.000000000 -0700
@@ -384,6 +384,11 @@ menu.o: ${S}/main/menu.c
 SRCS+=${S}/main/menu.c
 OBJS+=menu.o
 
+hello.o: ${S}/main/hello.c
+	${COMPILE.c} ${S}/main/hello.c
+SRCS+=${S}/main/hello.c
+OBJS+=hello.o
+
 loadelf.o: ${S}/userprog/loadelf.c
 	${COMPILE.c} ${S}/userprog/loadelf.c
 SRCS+=${S}/userprog/loadelf.c
diff -prauN os161-1.10_asst0.original/kern/compile/ASST0/vers.c os161-1.10.ASST0/kern/compile/ASST0/vers.c
--- os161-1.10_asst0.original/kern/compile/ASST0/vers.c	2009-09-26 00:35:03.000000000 -0700
+++ os161-1.10.ASST0/kern/compile/ASST0/vers.c	2009-09-26 00:31:02.000000000 -0700
@@ -1,3 +1,3 @@
 /* This file is automatically generated. Edits will be lost.*/
-const int buildversion = 1;
+const int buildversion = 4;
 const char buildconfig[] = "ASST0";
diff -prauN os161-1.10_asst0.original/kern/compile/ASST0/version os161-1.10.ASST0/kern/compile/ASST0/version
--- os161-1.10_asst0.original/kern/compile/ASST0/version	2009-09-26 00:35:03.000000000 -0700
+++ os161-1.10.ASST0/kern/compile/ASST0/version	2009-09-26 00:31:02.000000000 -0700
@@ -1 +1 @@
-1
+4
diff -prauN os161-1.10_asst0.original/kern/conf/conf.kern os161-1.10.ASST0/kern/conf/conf.kern
--- os161-1.10_asst0.original/kern/conf/conf.kern	2003-12-24 20:53:10.000000000 -0700
+++ os161-1.10.ASST0/kern/conf/conf.kern	2009-09-24 15:31:47.000000000 -0700
@@ -372,6 +372,7 @@ file      thread/thread.c
 
 file      main/main.c
 file      main/menu.c
+file      main/hello.c
 
 #
 # User-level programming/system call support
diff -prauN os161-1.10_asst0.original/kern/main/hello.c os161-1.10.ASST0/kern/main/hello.c
--- os161-1.10_asst0.original/kern/main/hello.c	1969-12-31 17:00:00.000000000 -0700
+++ os161-1.10.ASST0/kern/main/hello.c	2009-09-24 18:23:25.000000000 -0700
@@ -0,0 +1,46 @@
+
+#include <types.h>
+#include <kern/errno.h>
+#include <kern/unistd.h>
+#include <lib.h>
+
+static char *my_kstrdup(const char *buf)
+{
+    char *ptr, *ret;
+
+    ret = ptr = kmalloc(strlen(buf));
+    if(ptr == NULL)
+	panic("kmalloc returned NULL");
+
+    for(; *buf != '\0'; ++ptr, ++buf)
+	*ptr = *buf;
+
+    *ptr = '\0';
+
+    return ret;
+}
+
+static int my_toupper(int c) 
+{
+    if(c >= 'a' && c <= 'z') 
+	return c - 'a' + 'A';
+    
+    return c;
+}
+
+void complex_hello(void)
+{
+    const char *msg = "hello World!!!";
+    char *copy;
+    
+    /* my_kstrdup never returns a NULL pointer, no need to check */
+    copy = my_kstrdup(msg);
+    
+    /* We want 'Hello World!!!', need to capitalise the first letter */
+    copy[0] = my_toupper(copy[0]);
+    
+    kprintf("%s\n", copy);
+
+    /* Free the allocated memory */
+    kfree(copy);
+}
diff -prauN os161-1.10_asst0.original/kern/main/menu.c os161-1.10.ASST0/kern/main/menu.c
--- os161-1.10_asst0.original/kern/main/menu.c	2003-12-24 23:23:11.000000000 -0700
+++ os161-1.10.ASST0/kern/main/menu.c	2009-09-24 15:33:11.000000000 -0700
@@ -466,6 +466,17 @@ cmd_mainmenu(int n, char **a)
 	return 0;
 }
 
+/*Added function*/
+static
+int
+cmd_complex_hello(int nargs, char **args)
+{
+	complex_hello();
+	return 0;
+}
+
+
+
 ////////////////////////////////////////
 //
 // Command table.
@@ -474,6 +485,9 @@ static struct {
 	const char *name;
 	int (*func)(int nargs, char **args);
 } cmdtable[] = {
+	/* added command(s) */
+	{ "ch", 		cmd_complex_hello },	
+
 	/* menus */
 	{ "?",		cmd_mainmenu },
 	{ "h",		cmd_mainmenu },
